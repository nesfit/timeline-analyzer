<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Timeline Analyzer</title>
	
	<link rel="stylesheet" type="text/css" href="style/gui.css">
	
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/rdf4j-client.js"></script>
	<script type="text/javascript" src="js/taclient.js"></script>
	<script type="text/javascript" src="js/gui.js"></script>
	<script type="text/javascript" src="js/config.js"></script>
	
	<link rel="stylesheet" type="text/css" href="lib/bootstrap/css/bootstrap.min.css">
	<script type="text/javascript" src="lib/bootstrap/js/bootstrap.min.js"></script>
	
</head>
<body>

<!-- Navigation -->
<nav class="navbar navbar-inverse">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="#">Timeline Analyzer</a>
		</div>
	</div>
</nav>

<!-- Timelines -->
<div class="container-fluid" id="timeline-container">
	<div class="row timeline-set" id="timelines">
		<!-- <div id="t1" class="timeline panel panel-default col-md-4">
		... to be added by the gui ...
		</div>  -->
	</div>
</div>

<script type="text/javascript">

/*var col = $('<div class="col-md-4"></div>');
$('#timelines').append(col);
var panel = createTimelineElement(col);
var timeline = new GUITimeline('http://nesfit.github.io/resource/ta#twitter-timeline-okundra', panel)*/

TA.setDateSpan(new Date('2017-12-01'), new Date('2017-12-10'));

var PREFIX = "http://nesfit.github.io/resource/ta#";
var mainset = new GUITimelineSet($('#timelines'));
/*mainset.addTimeline(PREFIX + 'twitter-timeline-DVTVcz');
mainset.addTimeline(PREFIX + 'twitter-timeline-iROZHLAScz');
mainset.addTimeline(PREFIX + 'twitter-timeline-RESPEKT_CZ');
mainset.addTimeline(PREFIX + 'twitter-timeline-veselovskyma');
mainset.addTimeline(PREFIX + 'twitter-timeline-ekonom_cz');
mainset.addTimeline(PREFIX + 'twitter-timeline-CT24zive');
mainset.addTimeline(PREFIX + 'twitter-timeline-CzechTV');
mainset.addTimeline(PREFIX + 'twitter-timeline-Aktualnecz');*/
mainset.addTimeline(PREFIX + 'twitter-timeline-hospodarky');
mainset.addTimeline(PREFIX + 'twitter-timeline-cermak');
mainset.addTimeline(PREFIX + 'twitter-timeline-LudekStanek');

mainset.addTimeline(PREFIX + 'local-timeline-0u4pt59a');

mainset.recomputeOffsets();

function test()
{

	var ta = new TAClient("http://localhost:8080/rdf4j-server", "test");
	
	var rdf = ta.client;
	if (rdf.checkConnection())
		document.write('Connection OK');
	else
		document.write('Connection FAILED');
	
	var p = rdf.getObjectsWhere('').then(function(data) {
		console.log('got something: ' + data)
		console.log(data);
	});
	
	
	ta.getTimelines().then(function(timelines) {
		console.log('timelines: ' + timelines);
		console.log(timelines);
		
		for (timeline in timelines) {
			if (timelines.hasOwnProperty(timeline)) {
				console.log('TIMELINE: ' + timeline);
				
				ta.getEntries(timeline).then(function(entries) {
					console.log(entries);
					var u = 'http://nesfit.github.io/resource/ta#twitter-entry-892092223021617155';
					console.log(entries[u]);
					ta.loadEntry(entries[u]);
					console.log(entries[u]);
				});
				
			}
		}
		
	});

}

</script>

</body>
</html>